{"version":3,"sources":["../src/config/schema.ts","../src/config/defaults.ts","../src/config/utils.ts","../src/config/loaders.ts","../src/config/validators.ts","../src/config/builder.ts","../src/logging/console-logger.ts"],"names":["config"],"mappings":"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","file":"index.mjs","sourcesContent":["import { z } from 'zod';\n\n/**\n * Configuration schemas using Zod\n * These schemas are the single source of truth for configuration types\n */\n\n/**\n * Database configuration schema\n */\nexport const DatabaseConfigSchema = z.object({\n  type: z.literal('postgres').default('postgres'),\n  host: z.string(),\n  port: z.number().int().positive(),\n  username: z.string(),\n  password: z.string(),\n  database: z.string(),\n  synchronize: z.boolean().default(false),\n  dropSchema: z.boolean().optional(),\n  logging: z.boolean().default(false),\n  ssl: z.boolean().optional(),\n  autoLoadEntities: z.boolean().default(true),\n  migrationsRun: z.boolean().default(false),\n  rlsEnabled: z.boolean().default(false),\n});\n\n/**\n * OAuth provider configuration schema\n */\nexport const OAuthProviderSchema = z.object({\n  clientId: z.string(),\n  clientSecret: z.string(),\n});\n\n/**\n * Authentication configuration schema\n */\nexport const AuthConfigSchema = z.object({\n  jwtSecret: z.string().min(32, 'JWT secret must be at least 32 characters'),\n  jwtRefreshSecret: z.string().min(32, 'JWT refresh secret must be at least 32 characters'),\n  jwtExpiresIn: z.string().default('15m'),\n  jwtRefreshExpiresIn: z.string().default('7d'),\n  bcryptRounds: z.number().int().min(10).max(20).default(12),\n  maxFailedAttempts: z.number().int().positive().default(5),\n  lockoutDurationMinutes: z.number().int().positive().default(30),\n  google: OAuthProviderSchema.optional(),\n  github: OAuthProviderSchema.optional(),\n});\n\n/**\n * Redis cache configuration schema\n */\nexport const RedisConfigSchema = z.object({\n  host: z.string(),\n  port: z.number().int().positive(),\n  password: z.string().optional(),\n  db: z.number().int().nonnegative().default(0),\n  ttl: z.number().int().positive().default(3600),\n  keyPrefix: z.string().default('cache:'),\n});\n\n/**\n * Application configuration schema\n */\nexport const AppConfigSchema = z.object({\n  name: z.string(),\n  url: z.string().url(),\n  port: z.number().int().positive(),\n  nodeEnv: z.enum(['development', 'production', 'test', 'staging']).default('development'),\n  corsOrigin: z.string().default('*'),\n  frontendUrl: z.string().url(),\n  rateLimitMax: z.number().int().positive().default(100),\n  rateLimitTtl: z.number().int().positive().default(60),\n});\n\n/**\n * Admin panel configuration schema\n */\nexport const AdminConfigSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(12, 'Admin password must be at least 12 characters'),\n  allowedIps: z.array(z.string()).optional(),\n});\n\n/**\n * Email service configuration schema\n */\nexport const EmailConfigSchema = z.object({\n  enabled: z.boolean().default(false),\n  from: z.string().email(),\n  brevoApiKey: z.string().optional(),\n  smtp: z\n    .object({\n      host: z.string(),\n      port: z.number().int(),\n      secure: z.boolean().default(true),\n      auth: z.object({\n        user: z.string(),\n        pass: z.string(),\n      }),\n    })\n    .optional(),\n});\n\n/**\n * S3-compatible storage configuration schema\n */\nexport const S3ConfigSchema = z.object({\n  endpoint: z.string(),\n  port: z.number().int().positive(),\n  useSSL: z.boolean().default(true),\n  region: z.string(),\n  accessKey: z.string(),\n  secretKey: z.string(),\n  bucketName: z.string(),\n});\n\n/**\n * RabbitMQ message queue configuration schema\n */\nexport const RabbitMQConfigSchema = z.object({\n  uri: z.string().url(),\n  exchange: z.string(),\n  dlxExchange: z.string(),\n  connectionInitOptions: z\n    .object({\n      wait: z.boolean().default(true),\n      timeout: z.number().int().positive().default(10000),\n      reject: z.boolean().default(true),\n    })\n    .optional(),\n});\n\n/**\n * Logging configuration schema\n */\nexport const LoggingConfigSchema = z.object({\n  level: z.enum(['debug', 'info', 'warn', 'error']).default('info'),\n  format: z.enum(['json', 'pretty']).default('json'),\n  transports: z.array(z.enum(['console', 'file'])).default(['console']),\n  fileConfig: z\n    .object({\n      filename: z.string(),\n      maxSize: z.string().default('10m'),\n      maxFiles: z.number().int().default(5),\n    })\n    .optional(),\n});\n\n/**\n * Feature flags configuration schema\n */\nexport const FeatureFlagsConfigSchema = z.object({\n  enableNewUI: z.boolean().default(false),\n  enableBetaFeatures: z.boolean().default(false),\n  enableAnalytics: z.boolean().default(true),\n  maintenanceMode: z.boolean().default(false),\n});\n\n/**\n * Complete application configuration schema\n */\nexport const ConfigurationSchema = z.object({\n  app: AppConfigSchema,\n  database: DatabaseConfigSchema,\n  auth: AuthConfigSchema,\n  redis: RedisConfigSchema,\n  admin: AdminConfigSchema,\n  email: EmailConfigSchema,\n  s3: S3ConfigSchema,\n  rabbitmq: RabbitMQConfigSchema,\n  logging: LoggingConfigSchema.optional(),\n  featureFlags: FeatureFlagsConfigSchema.optional(),\n});\n","import type { PartialConfiguration } from './types.js';\n\n/**\n * Default/preset configurations\n * These are OPTIONAL reference configurations that consuming projects can use\n * They are NOT automatically applied - projects must explicitly use them\n */\n\n/**\n * Development environment preset\n * Optimized for local development with verbose logging and auto-sync\n */\nexport const DEVELOPMENT_PRESET: PartialConfiguration = {\n  app: {\n    nodeEnv: 'development',\n    corsOrigin: '*',\n    rateLimitMax: 1000,\n    rateLimitTtl: 60,\n  },\n  database: {\n    synchronize: true,\n    dropSchema: false, // Don't drop schema by default, let user decide\n    logging: true,\n    ssl: false,\n    migrationsRun: false,\n    rlsEnabled: false,\n  },\n  logging: {\n    level: 'debug',\n    format: 'pretty',\n    transports: ['console'],\n  },\n  featureFlags: {\n    enableNewUI: true,\n    enableBetaFeatures: true,\n    enableAnalytics: false,\n    maintenanceMode: false,\n  },\n};\n\n/**\n * Production environment preset\n * Optimized for production with security and performance\n */\nexport const PRODUCTION_PRESET: PartialConfiguration = {\n  app: {\n    nodeEnv: 'production',\n    corsOrigin: '', // Should be overridden with specific domains\n    rateLimitMax: 100,\n    rateLimitTtl: 60,\n  },\n  database: {\n    synchronize: false, // Never auto-sync in production\n    dropSchema: false,\n    logging: false,\n    ssl: true,\n    migrationsRun: true,\n    rlsEnabled: true,\n  },\n  logging: {\n    level: 'info',\n    format: 'json',\n    transports: ['console', 'file'],\n  },\n  featureFlags: {\n    enableNewUI: false,\n    enableBetaFeatures: false,\n    enableAnalytics: true,\n    maintenanceMode: false,\n  },\n};\n\n/**\n * Staging environment preset\n * Similar to production but with more debugging enabled\n */\nexport const STAGING_PRESET: PartialConfiguration = {\n  app: {\n    nodeEnv: 'staging',\n    corsOrigin: '*',\n    rateLimitMax: 200,\n    rateLimitTtl: 60,\n  },\n  database: {\n    synchronize: false,\n    dropSchema: false,\n    logging: true,\n    ssl: true,\n    migrationsRun: true,\n    rlsEnabled: true,\n  },\n  logging: {\n    level: 'debug',\n    format: 'json',\n    transports: ['console'],\n  },\n  featureFlags: {\n    enableNewUI: true,\n    enableBetaFeatures: true,\n    enableAnalytics: true,\n    maintenanceMode: false,\n  },\n};\n\n/**\n * Test environment preset\n * Optimized for running tests with fast setup and teardown\n */\nexport const TEST_PRESET: PartialConfiguration = {\n  app: {\n    nodeEnv: 'test',\n    corsOrigin: '*',\n    rateLimitMax: 10000,\n    rateLimitTtl: 60,\n  },\n  database: {\n    synchronize: true,\n    dropSchema: true,\n    logging: false,\n    ssl: false,\n    migrationsRun: false,\n    rlsEnabled: false,\n  },\n  logging: {\n    level: 'error',\n    format: 'json',\n    transports: ['console'],\n  },\n  featureFlags: {\n    enableNewUI: false,\n    enableBetaFeatures: false,\n    enableAnalytics: false,\n    maintenanceMode: false,\n  },\n};\n\n/**\n * Get preset configuration by name\n * @param preset - Preset name\n * @returns Partial configuration for the preset\n */\nexport function getPreset(\n  preset: 'development' | 'production' | 'staging' | 'test',\n): PartialConfiguration {\n  switch (preset) {\n    case 'development':\n      return DEVELOPMENT_PRESET;\n    case 'production':\n      return PRODUCTION_PRESET;\n    case 'staging':\n      return STAGING_PRESET;\n    case 'test':\n      return TEST_PRESET;\n    default:\n      throw new Error(`Unknown preset: ${preset}`);\n  }\n}\n\n/**\n * Default database configuration values (for reference)\n */\nexport const DEFAULT_DATABASE_CONFIG = {\n  type: 'postgres' as const,\n  host: 'localhost',\n  port: 5432,\n  username: 'postgres',\n  password: 'postgres',\n  database: 'app',\n  synchronize: false,\n  logging: false,\n  autoLoadEntities: true,\n  migrationsRun: false,\n  rlsEnabled: false,\n};\n\n/**\n * Default Redis configuration values (for reference)\n */\nexport const DEFAULT_REDIS_CONFIG = {\n  host: 'localhost',\n  port: 6379,\n  db: 0,\n  ttl: 3600,\n  keyPrefix: 'cache:',\n};\n\n/**\n * Default JWT configuration values (for reference)\n */\nexport const DEFAULT_JWT_CONFIG = {\n  jwtExpiresIn: '15m',\n  jwtRefreshExpiresIn: '7d',\n  bcryptRounds: 12,\n  maxFailedAttempts: 5,\n  lockoutDurationMinutes: 30,\n};\n\n/**\n * Default rate limiting configuration (for reference)\n */\nexport const DEFAULT_RATE_LIMIT = {\n  max: 100,\n  ttl: 60,\n};\n\n/**\n * Default logging configuration (for reference)\n */\nexport const DEFAULT_LOGGING_CONFIG = {\n  level: 'info' as const,\n  format: 'json' as const,\n  transports: ['console'] as const,\n};\n","/**\n * Utility functions for configuration management\n */\n\n/**\n * Deep merge two objects\n * @param target - Target object\n * @param source - Source object to merge\n * @returns Merged object\n */\nexport function deepMerge<T = any>(target: any, source: any): T {\n  const output = { ...target };\n\n  if (isObject(target) && isObject(source)) {\n    Object.keys(source).forEach((key) => {\n      if (isObject(source[key])) {\n        if (!(key in target)) {\n          Object.assign(output, { [key]: source[key] });\n        } else {\n          output[key] = deepMerge(target[key], source[key]);\n        }\n      } else {\n        Object.assign(output, { [key]: source[key] });\n      }\n    });\n  }\n\n  return output;\n}\n\n/**\n * Check if a value is a plain object\n * @param item - Value to check\n * @returns True if the value is a plain object\n */\nfunction isObject(item: any): boolean {\n  return item && typeof item === 'object' && !Array.isArray(item);\n}\n\n/**\n * Mask sensitive values for safe logging\n * Redacts passwords, secrets, keys, and tokens\n * @param config - Configuration object to mask\n * @returns Configuration object with sensitive values masked\n */\nexport function maskSecrets(config: any): any {\n  const sensitiveKeys = [\n    'password',\n    'secret',\n    'apikey',\n    'token',\n    'secretkey',\n    'accesskey',\n    'clientsecret',\n    'auth',\n  ];\n\n  const mask = (obj: any): any => {\n    if (!isObject(obj)) return obj;\n\n    const masked = { ...obj };\n    Object.keys(masked).forEach((key) => {\n      const lowerKey = key.toLowerCase();\n      if (sensitiveKeys.some((sensitive) => lowerKey.includes(sensitive))) {\n        masked[key] = '***REDACTED***';\n      } else if (isObject(masked[key])) {\n        masked[key] = mask(masked[key]);\n      }\n    });\n\n    return masked;\n  };\n\n  return mask(config);\n}\n\n/**\n * Parse string boolean values\n * @param value - String value to parse\n * @param defaultValue - Default value if parsing fails\n * @returns Boolean value\n */\nexport function parseBoolean(value: string | undefined, defaultValue = false): boolean {\n  if (!value) return defaultValue;\n  const normalized = value.toLowerCase().trim();\n  if (normalized === 'true' || normalized === '1' || normalized === 'yes') return true;\n  if (normalized === 'false' || normalized === '0' || normalized === 'no') return false;\n  return defaultValue;\n}\n\n/**\n * Parse string number values\n * @param value - String value to parse\n * @param defaultValue - Default value if parsing fails\n * @returns Number value\n */\nexport function parseNumber(value: string | undefined, defaultValue: number): number {\n  if (!value) return defaultValue;\n  const parsed = Number.parseInt(value, 10);\n  return Number.isNaN(parsed) ? defaultValue : parsed;\n}\n\n/**\n * Parse comma-separated string values into array\n * @param value - String value to parse\n * @param defaultValue - Default value if parsing fails\n * @returns Array of strings\n */\nexport function parseArray(value: string | undefined, defaultValue: string[] = []): string[] {\n  if (!value) return defaultValue;\n  return value\n    .split(',')\n    .map((item) => item.trim())\n    .filter(Boolean);\n}\n\n/**\n * Get required environment variable or throw error\n * @param key - Environment variable key\n * @param errorMessage - Custom error message\n * @returns Environment variable value\n * @throws Error if environment variable is not set\n */\nexport function requireEnv(key: string, errorMessage?: string): string {\n  const value = process.env[key];\n  if (!value) {\n    throw new Error(errorMessage || `Required environment variable ${key} is not set`);\n  }\n  return value;\n}\n\n/**\n * Get optional environment variable with default value\n * @param key - Environment variable key\n * @param defaultValue - Default value\n * @returns Environment variable value or default\n */\nexport function getEnv(key: string, defaultValue: string): string {\n  return process.env[key] || defaultValue;\n}\n\n/**\n * Validate production secrets\n * Ensures critical secrets meet security requirements in production\n * @param config - Configuration object\n * @throws Error if validation fails\n */\nexport function validateProductionSecrets(config: any): void {\n  if (config.app?.nodeEnv !== 'production') {\n    return; // Only validate in production\n  }\n\n  // JWT secrets validation\n  if (!config.auth?.jwtSecret || config.auth.jwtSecret.length < 32) {\n    throw new Error(\n      'SECURITY ERROR: JWT_SECRET must be set with at least 32 characters in production',\n    );\n  }\n\n  if (!config.auth?.jwtRefreshSecret || config.auth.jwtRefreshSecret.length < 32) {\n    throw new Error(\n      'SECURITY ERROR: JWT_REFRESH_SECRET must be set with at least 32 characters in production',\n    );\n  }\n\n  // Admin password validation\n  if (\n    !config.admin?.password ||\n    config.admin.password === 'change-me-in-production' ||\n    config.admin.password.length < 12\n  ) {\n    throw new Error(\n      'SECURITY ERROR: ADMIN_PASSWORD must be set to a strong password (at least 12 characters) in production',\n    );\n  }\n\n  // Database password validation\n  if (!config.database?.password || config.database.password === 'postgres') {\n    throw new Error(\n      'SECURITY ERROR: DATABASE_PASSWORD must be set to a strong password in production',\n    );\n  }\n}\n","import * as dotenv from 'dotenv';\nimport * as fs from 'node:fs';\nimport * as path from 'node:path';\nimport type { PartialConfiguration } from './types.js';\nimport { getEnv, parseArray, parseBoolean, parseNumber } from './utils.js';\n\n/**\n * Configuration loaders - functions to load configuration from various sources\n * These are helpers that DON'T create fixed config, but provide utilities\n * for consuming projects to use when building their config\n */\n\n/**\n * Load .env file into process.env\n * @param envFilePath - Path to .env file (defaults to .env in current directory)\n * @param override - Whether to override existing environment variables\n */\nexport function loadDotEnv(envFilePath = '.env', override = false): void {\n  const resolvedPath = path.resolve(process.cwd(), envFilePath);\n\n  if (fs.existsSync(resolvedPath)) {\n    dotenv.config({ path: resolvedPath, override });\n  }\n}\n\n/**\n * Load configuration from environment variables\n * @param prefix - Optional prefix for environment variables (e.g., 'APP_')\n * @returns Partial configuration loaded from environment\n */\nexport function loadFromEnv(prefix = ''): PartialConfiguration {\n  const prefixKey = (key: string) => `${prefix}${key}`;\n\n  return {\n    app: {\n      name: getEnv(prefixKey('APP_NAME'), 'NestJS Boilerplate'),\n      url: getEnv(prefixKey('APP_URL'), 'http://localhost:3000'),\n      frontendUrl: getEnv(prefixKey('FRONTEND_URL'), 'http://localhost:3001'),\n      port: parseNumber(process.env[prefixKey('PORT')], 3000),\n      nodeEnv: (process.env[prefixKey('NODE_ENV')] || 'development') as any,\n      corsOrigin: getEnv(prefixKey('CORS_ORIGIN'), '*'),\n      rateLimitMax: parseNumber(process.env[prefixKey('RATE_LIMIT_MAX')], 100),\n      rateLimitTtl: parseNumber(process.env[prefixKey('RATE_LIMIT_TTL')], 60),\n    },\n    database: {\n      type: 'postgres' as const,\n      host: getEnv(prefixKey('DATABASE_HOST'), 'localhost'),\n      port: parseNumber(process.env[prefixKey('DATABASE_PORT')], 5432),\n      username: getEnv(prefixKey('DATABASE_USERNAME'), 'postgres'),\n      password: getEnv(prefixKey('DATABASE_PASSWORD'), 'postgres'),\n      database: getEnv(prefixKey('DATABASE_NAME'), 'nestjs_boilerplate'),\n      synchronize: !parseBoolean(process.env[prefixKey('USE_MIGRATIONS')], false),\n      dropSchema: parseBoolean(process.env[prefixKey('DATABASE_DROP_SCHEMA')], false),\n      logging: parseBoolean(process.env[prefixKey('DATABASE_LOGGING')], false),\n      ssl: parseBoolean(process.env[prefixKey('DATABASE_SSL')], false),\n      autoLoadEntities: true,\n      migrationsRun: parseBoolean(process.env[prefixKey('USE_MIGRATIONS')], false),\n      rlsEnabled: parseBoolean(process.env[prefixKey('RLS_ENABLED')], false),\n    },\n    auth: {\n      jwtSecret: getEnv(prefixKey('JWT_SECRET'), 'jwt-secret-key-DEVELOPMENT-ONLY'),\n      jwtRefreshSecret: getEnv(\n        prefixKey('JWT_REFRESH_SECRET'),\n        'jwt-refresh-secret-key-DEVELOPMENT-ONLY',\n      ),\n      jwtExpiresIn: getEnv(prefixKey('JWT_EXPIRES_IN'), '15m'),\n      jwtRefreshExpiresIn: getEnv(prefixKey('JWT_REFRESH_EXPIRES_IN'), '7d'),\n      bcryptRounds: parseNumber(process.env[prefixKey('BCRYPT_ROUNDS')], 12),\n      maxFailedAttempts: parseNumber(process.env[prefixKey('AUTH_MAX_FAILED_ATTEMPTS')], 5),\n      lockoutDurationMinutes: parseNumber(\n        process.env[prefixKey('AUTH_LOCKOUT_DURATION_MINUTES')],\n        30,\n      ),\n      ...(process.env[prefixKey('GOOGLE_CLIENT_ID')] &&\n      process.env[prefixKey('GOOGLE_CLIENT_SECRET')]\n        ? {\n            google: {\n              clientId: process.env[prefixKey('GOOGLE_CLIENT_ID')] as string,\n              clientSecret: process.env[prefixKey('GOOGLE_CLIENT_SECRET')] as string,\n            },\n          }\n        : {}),\n      ...(process.env[prefixKey('GITHUB_CLIENT_ID')] &&\n      process.env[prefixKey('GITHUB_CLIENT_SECRET')]\n        ? {\n            github: {\n              clientId: process.env[prefixKey('GITHUB_CLIENT_ID')] as string,\n              clientSecret: process.env[prefixKey('GITHUB_CLIENT_SECRET')] as string,\n            },\n          }\n        : {}),\n    },\n    redis: {\n      host: getEnv(prefixKey('REDIS_HOST'), 'localhost'),\n      port: parseNumber(process.env[prefixKey('REDIS_PORT')], 6379),\n      password: process.env[prefixKey('REDIS_PASSWORD')],\n      db: parseNumber(process.env[prefixKey('REDIS_DB')], 0),\n      ttl: parseNumber(process.env[prefixKey('CACHE_TTL')], 3600),\n      keyPrefix: getEnv(prefixKey('REDIS_KEY_PREFIX'), 'cache:'),\n    },\n    admin: {\n      email: getEnv(prefixKey('ADMIN_EMAIL'), 'admin@example.com'),\n      password: getEnv(prefixKey('ADMIN_PASSWORD'), 'change-me-in-production'),\n      allowedIps: process.env[prefixKey('ADMIN_ALLOWED_IPS')]\n        ? parseArray(process.env[prefixKey('ADMIN_ALLOWED_IPS')])\n        : undefined,\n    },\n    email: {\n      enabled: process.env[prefixKey('EMAIL_STATUS')] === 'enabled',\n      from: getEnv(prefixKey('EMAIL_FROM'), 'noreply@example.com'),\n      brevoApiKey: process.env[prefixKey('BREVO_API_KEY')],\n      ...(process.env[prefixKey('SMTP_HOST')]\n        ? {\n            smtp: {\n              host: process.env[prefixKey('SMTP_HOST')] as string,\n              port: parseNumber(process.env[prefixKey('SMTP_PORT')], 587),\n              secure: parseBoolean(process.env[prefixKey('SMTP_SECURE')], true),\n              auth: {\n                user: getEnv(prefixKey('SMTP_USER'), ''),\n                pass: getEnv(prefixKey('SMTP_PASS'), ''),\n              },\n            },\n          }\n        : {}),\n    },\n    s3: {\n      endpoint: getEnv(prefixKey('S3_ENDPOINT'), 's3.amazonaws.com'),\n      port: parseNumber(process.env[prefixKey('S3_PORT')], 443),\n      useSSL: parseBoolean(process.env[prefixKey('S3_USE_SSL')], true),\n      region: getEnv(prefixKey('S3_REGION'), 'eu-west-3'),\n      accessKey: getEnv(prefixKey('S3_ACCESS_KEY'), ''),\n      secretKey: getEnv(prefixKey('S3_SECRET_KEY'), ''),\n      bucketName: getEnv(prefixKey('S3_BUCKET_NAME'), 'nestjs-boilerplate-files'),\n    },\n    rabbitmq: {\n      uri:\n        process.env[prefixKey('RABBITMQ_URI')] ||\n        `amqp://${getEnv(prefixKey('RABBITMQ_USER'), 'guest')}:${getEnv(prefixKey('RABBITMQ_PASSWORD'), 'guest')}@${getEnv(prefixKey('RABBITMQ_HOST'), 'localhost')}:${getEnv(prefixKey('RABBITMQ_PORT'), '5672')}${\n          process.env[prefixKey('RABBITMQ_VHOST')] &&\n          process.env[prefixKey('RABBITMQ_VHOST')] !== '/'\n            ? `/${process.env[prefixKey('RABBITMQ_VHOST')]}`\n            : ''\n        }`,\n      exchange: getEnv(prefixKey('RABBITMQ_EXCHANGE'), 'app.notifications'),\n      dlxExchange: getEnv(prefixKey('RABBITMQ_DLX_EXCHANGE'), 'app.notifications.dlx'),\n      connectionInitOptions: {\n        wait: process.env[prefixKey('NODE_ENV')] !== 'test',\n        timeout: 10000,\n        reject: true,\n      },\n    },\n    logging: {\n      level: (getEnv(prefixKey('LOG_LEVEL'), 'info') as any) || 'info',\n      format: (getEnv(prefixKey('LOG_FORMAT'), 'json') as any) || 'json',\n      transports: parseArray(process.env[prefixKey('LOG_TRANSPORTS')], ['console']) as any,\n      ...(process.env[prefixKey('LOG_FILE')]\n        ? {\n            fileConfig: {\n              filename: process.env[prefixKey('LOG_FILE')] as string,\n              maxSize: getEnv(prefixKey('LOG_MAX_SIZE'), '10m'),\n              maxFiles: parseNumber(process.env[prefixKey('LOG_MAX_FILES')], 5),\n            },\n          }\n        : {}),\n    },\n    featureFlags: {\n      enableNewUI: parseBoolean(process.env[prefixKey('FEATURE_NEW_UI')], false),\n      enableBetaFeatures: parseBoolean(process.env[prefixKey('FEATURE_BETA')], false),\n      enableAnalytics: parseBoolean(process.env[prefixKey('FEATURE_ANALYTICS')], true),\n      maintenanceMode: parseBoolean(process.env[prefixKey('MAINTENANCE_MODE')], false),\n    },\n  };\n}\n\n/**\n * Load configuration from a JSON file\n * @param filePath - Path to JSON config file\n * @returns Partial configuration loaded from file\n */\nexport function loadFromFile(filePath: string): PartialConfiguration {\n  try {\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const fileContent = require(filePath);\n    return fileContent as PartialConfiguration;\n  } catch (error) {\n    throw new Error(`Failed to load configuration from file ${filePath}: ${error}`);\n  }\n}\n\n/**\n * Load minimal configuration for testing\n * @returns Minimal configuration for test environment\n */\nexport function loadTestConfig(): PartialConfiguration {\n  return {\n    app: {\n      name: 'Test App',\n      url: 'http://localhost:3000',\n      frontendUrl: 'http://localhost:3001',\n      port: 3000,\n      nodeEnv: 'test',\n      corsOrigin: '*',\n      rateLimitMax: 1000,\n      rateLimitTtl: 60,\n    },\n    database: {\n      type: 'postgres',\n      host: 'localhost',\n      port: 5432,\n      username: 'test',\n      password: 'test',\n      database: 'test_db',\n      synchronize: true,\n      dropSchema: true,\n      logging: false,\n      autoLoadEntities: true,\n      migrationsRun: false,\n      rlsEnabled: false,\n    },\n    auth: {\n      jwtSecret: 'test-jwt-secret-32-characters-long-for-testing',\n      jwtRefreshSecret: 'test-refresh-secret-32-characters-long-for-testing',\n      jwtExpiresIn: '15m',\n      jwtRefreshExpiresIn: '7d',\n      bcryptRounds: 10,\n      maxFailedAttempts: 5,\n      lockoutDurationMinutes: 30,\n    },\n    redis: {\n      host: 'localhost',\n      port: 6379,\n      db: 1,\n      ttl: 3600,\n      keyPrefix: 'test:',\n    },\n    admin: {\n      email: 'admin@test.com',\n      password: 'test-admin-password-secure',\n    },\n    email: {\n      enabled: false,\n      from: 'test@example.com',\n    },\n    s3: {\n      endpoint: 's3.amazonaws.com',\n      port: 443,\n      useSSL: true,\n      region: 'eu-west-3',\n      accessKey: 'test-access-key',\n      secretKey: 'test-secret-key',\n      bucketName: 'test-bucket',\n    },\n    rabbitmq: {\n      uri: 'amqp://guest:guest@localhost:5672',\n      exchange: 'test.exchange',\n      dlxExchange: 'test.exchange.dlx',\n      connectionInitOptions: {\n        wait: false,\n        timeout: 10000,\n        reject: true,\n      },\n    },\n    logging: {\n      level: 'error',\n      format: 'json',\n      transports: ['console'],\n    },\n    featureFlags: {\n      enableNewUI: false,\n      enableBetaFeatures: false,\n      enableAnalytics: false,\n      maintenanceMode: false,\n    },\n  };\n}\n","import { ZodError } from 'zod';\nimport { ConfigurationSchema } from './schema.js';\nimport type { Configuration, PartialConfiguration } from './types.js';\nimport { maskSecrets, validateProductionSecrets } from './utils.js';\n\n/**\n * Validation utilities for configuration\n */\n\n/**\n * Validate configuration against schema\n * @param config - Configuration object to validate\n * @returns Validated and typed configuration\n * @throws Error if validation fails with detailed error messages\n */\nexport function validateConfig(config: unknown): Configuration {\n  try {\n    const validated = ConfigurationSchema.parse(config);\n\n    // Additional production security validation\n    validateProductionSecrets(validated);\n\n    return validated;\n  } catch (error) {\n    if (error instanceof ZodError) {\n      const errorMessages = error.errors\n        .map((err) => `  - ${err.path.join('.')}: ${err.message}`)\n        .join('\\n');\n\n      throw new Error(`Configuration validation failed:\\n${errorMessages}`);\n    }\n    throw error;\n  }\n}\n\n/**\n * Validate configuration and return result with errors\n * Non-throwing version for safer validation\n * @param config - Configuration object to validate\n * @returns Validation result with success flag and data or errors\n */\nexport function safeValidateConfig(config: unknown): {\n  success: boolean;\n  data?: Configuration;\n  errors?: string[];\n} {\n  try {\n    const validated = validateConfig(config);\n    return {\n      success: true,\n      data: validated,\n    };\n  } catch (error) {\n    if (error instanceof Error) {\n      return {\n        success: false,\n        errors: error.message.split('\\n').filter(Boolean),\n      };\n    }\n    return {\n      success: false,\n      errors: ['Unknown validation error'],\n    };\n  }\n}\n\n/**\n * Validate partial configuration (for builder pattern)\n * @param config - Partial configuration object\n * @returns True if valid structure, throws on invalid\n */\nexport function validatePartialConfig(config: PartialConfiguration): boolean {\n  // Partial validation - just check if structure is valid\n  // Don't enforce required fields\n  const result = ConfigurationSchema.partial().safeParse(config);\n\n  if (!result.success) {\n    const errorMessages = result.error.errors\n      .map((err) => `  - ${err.path.join('.')}: ${err.message}`)\n      .join('\\n');\n\n    throw new Error(`Partial configuration validation failed:\\n${errorMessages}`);\n  }\n\n  return true;\n}\n\n/**\n * Log configuration in a safe way (with secrets masked)\n * @param config - Configuration object to log\n * @param logger - Optional logger function (defaults to console.log)\n */\nexport function logConfigSafely(\n  config: Configuration,\n  logger: (msg: string) => void = console.log,\n): void {\n  const masked = maskSecrets(config);\n  logger(`Configuration loaded:\\n${JSON.stringify(masked, null, 2)}`);\n}\n\n/**\n * Get configuration summary for logging (minimal info, no secrets)\n * @param config - Configuration object\n * @returns Safe summary object\n */\nexport function getConfigSummary(config: Configuration): Record<string, any> {\n  return {\n    environment: config.app.nodeEnv,\n    appName: config.app.name,\n    port: config.app.port,\n    database: {\n      host: config.database.host,\n      port: config.database.port,\n      database: config.database.database,\n      ssl: config.database.ssl,\n    },\n    redis: {\n      host: config.redis.host,\n      port: config.redis.port,\n      db: config.redis.db,\n    },\n    features: config.featureFlags,\n    logging: config.logging,\n  };\n}\n","import { getPreset } from './defaults.js';\nimport { loadDotEnv, loadFromEnv, loadFromFile, loadTestConfig } from './loaders.js';\nimport type {\n  AdminConfig,\n  AppConfig,\n  AuthConfig,\n  Configuration,\n  DatabaseConfig,\n  EmailConfig,\n  FeatureFlagsConfig,\n  LoggingConfig,\n  PartialConfiguration,\n  RabbitMQConfig,\n  RedisConfig,\n  S3Config,\n} from './types.js';\nimport { deepMerge } from './utils.js';\nimport { validateConfig } from './validators.js';\n\n/**\n * Fluent configuration builder\n * Helps construct configuration objects in a type-safe, chainable way\n */\nexport class ConfigBuilder {\n  private config: PartialConfiguration = {};\n\n  /**\n   * Set environment (development, staging, production, test)\n   */\n  environment(env: AppConfig['nodeEnv']): this {\n    this.config.app ??= {};\n    this.config.app.nodeEnv = env;\n    return this;\n  }\n\n  /**\n   * Configure application settings\n   */\n  app(config: Partial<AppConfig>): this {\n    this.config.app = deepMerge(this.config.app || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure database connection\n   */\n  database(config: Partial<DatabaseConfig>): this {\n    this.config.database = deepMerge(this.config.database || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure authentication\n   */\n  auth(config: Partial<AuthConfig>): this {\n    this.config.auth = deepMerge(this.config.auth || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure Redis cache\n   */\n  redis(config: Partial<RedisConfig>): this {\n    this.config.redis = deepMerge(this.config.redis || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure admin panel\n   */\n  admin(config: Partial<AdminConfig>): this {\n    this.config.admin = deepMerge(this.config.admin || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure email service\n   */\n  email(config: Partial<EmailConfig>): this {\n    this.config.email = deepMerge(this.config.email || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure S3 storage\n   */\n  s3(config: Partial<S3Config>): this {\n    this.config.s3 = deepMerge(this.config.s3 || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure RabbitMQ\n   */\n  rabbitmq(config: Partial<RabbitMQConfig>): this {\n    this.config.rabbitmq = deepMerge(this.config.rabbitmq || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure logging\n   */\n  logging(config: Partial<LoggingConfig>): this {\n    this.config.logging = deepMerge(this.config.logging || {}, config);\n    return this;\n  }\n\n  /**\n   * Configure feature flags\n   */\n  featureFlags(config: Partial<FeatureFlagsConfig>): this {\n    this.config.featureFlags = deepMerge(this.config.featureFlags || {}, config);\n    return this;\n  }\n\n  /**\n   * Load .env file and then load configuration from environment variables\n   * @param envFilePath - Path to .env file (defaults to .env in current directory)\n   * @param prefix - Optional prefix for environment variables (e.g., 'APP_')\n   * @param override - Whether to override existing environment variables\n   */\n  fromDotEnv(envFilePath = '.env', prefix = '', override = false): this {\n    loadDotEnv(envFilePath, override);\n    return this.fromEnv(prefix);\n  }\n\n  /**\n   * Load configuration from environment variables\n   * @param prefix - Optional prefix for environment variables (e.g., 'APP_')\n   */\n  fromEnv(prefix = ''): this {\n    const envConfig = loadFromEnv(prefix);\n    this.config = deepMerge(this.config, envConfig);\n    return this;\n  }\n\n  /**\n   * Load configuration from a JSON file\n   * @param filePath - Path to JSON config file\n   */\n  fromFile(filePath: string): this {\n    const fileConfig = loadFromFile(filePath);\n    this.config = deepMerge(this.config, fileConfig);\n    return this;\n  }\n\n  /**\n   * Load test configuration preset\n   */\n  fromTest(): this {\n    const testConfig = loadTestConfig();\n    this.config = deepMerge(this.config, testConfig);\n    return this;\n  }\n\n  /**\n   * Merge with another configuration object\n   * @param config - Configuration to merge\n   */\n  merge(config: PartialConfiguration): this {\n    this.config = deepMerge(this.config, config);\n    return this;\n  }\n\n  /**\n   * Override specific values (alias for merge)\n   * @param config - Configuration to override\n   */\n  override(config: PartialConfiguration): this {\n    this.config = deepMerge(this.config, config);\n    return this;\n  }\n\n  /**\n   * Use a preset configuration (development, production, test, staging)\n   * @param preset - Preset name\n   */\n  preset(preset: 'development' | 'production' | 'test' | 'staging'): this {\n    const presetConfig = getPreset(preset);\n    this.config = deepMerge(this.config, presetConfig);\n    return this;\n  }\n\n  /**\n   * Conditionally apply configuration\n   * @param condition - Boolean condition\n   * @param fn - Function to apply if condition is true\n   */\n  when(condition: boolean, fn: (builder: ConfigBuilder) => void): this {\n    if (condition) {\n      fn(this);\n    }\n    return this;\n  }\n\n  /**\n   * Conditionally apply configuration based on environment\n   * @param env - Environment to check\n   * @param fn - Function to apply if environment matches\n   */\n  whenEnv(env: AppConfig['nodeEnv'], fn: (builder: ConfigBuilder) => void): this {\n    if (this.config.app?.nodeEnv === env) {\n      fn(this);\n    }\n    return this;\n  }\n\n  /**\n   * Enable development mode optimizations\n   */\n  forDevelopment(): this {\n    return this.preset('development');\n  }\n\n  /**\n   * Enable production mode optimizations\n   */\n  forProduction(): this {\n    return this.preset('production');\n  }\n\n  /**\n   * Enable test mode optimizations\n   */\n  forTest(): this {\n    return this.preset('test');\n  }\n\n  /**\n   * Enable staging mode optimizations\n   */\n  forStaging(): this {\n    return this.preset('staging');\n  }\n\n  /**\n   * Build and validate the final configuration\n   * @returns Validated configuration\n   * @throws Error if validation fails\n   */\n  build(): Configuration {\n    return validateConfig(this.config);\n  }\n\n  /**\n   * Build without validation (unsafe, use for debugging)\n   * @returns Partial configuration without validation\n   */\n  buildUnsafe(): PartialConfiguration {\n    return this.config;\n  }\n\n  /**\n   * Get current config state (for inspection)\n   * @returns Copy of current configuration state\n   */\n  peek(): PartialConfiguration {\n    return { ...this.config };\n  }\n\n  /**\n   * Reset builder to empty state\n   */\n  reset(): this {\n    this.config = {};\n    return this;\n  }\n\n  /**\n   * Clone the current builder state\n   * @returns New builder with same configuration\n   */\n  clone(): ConfigBuilder {\n    const newBuilder = new ConfigBuilder();\n    newBuilder.config = { ...this.config };\n    return newBuilder;\n  }\n}\n\n/**\n * Create a new config builder instance\n * @returns New ConfigBuilder instance\n */\nexport function createConfigBuilder(): ConfigBuilder {\n  return new ConfigBuilder();\n}\n\n/**\n * Quick helper to create config from .env file\n * @param envFilePath - Path to .env file (defaults to .env in current directory)\n * @param prefix - Optional prefix for environment variables\n * @param override - Whether to override existing environment variables\n * @returns Validated configuration\n */\nexport function createConfigFromDotEnv(\n  envFilePath = '.env',\n  prefix = '',\n  override = false,\n): Configuration {\n  return createConfigBuilder().fromDotEnv(envFilePath, prefix, override).build();\n}\n\n/**\n * Quick helper to create config from environment\n * @param prefix - Optional prefix for environment variables\n * @returns Validated configuration\n */\nexport function createConfigFromEnv(prefix = ''): Configuration {\n  return createConfigBuilder().fromEnv(prefix).build();\n}\n\n/**\n * Quick helper to create config from preset\n * @param preset - Preset name\n * @param overrides - Optional configuration overrides\n * @returns Validated configuration\n */\nexport function createConfigFromPreset(\n  preset: 'development' | 'production' | 'test' | 'staging',\n  overrides?: PartialConfiguration,\n): Configuration {\n  const builder = createConfigBuilder().preset(preset);\n\n  if (overrides) {\n    builder.merge(overrides);\n  }\n\n  return builder.build();\n}\n\n/**\n * Quick helper to create test configuration\n * @returns Validated test configuration\n */\nexport function createTestConfig(): Configuration {\n  return createConfigBuilder().fromTest().build();\n}\n","import type {\n  AuthEvent,\n  ILogger,\n  LoggerConfig,\n  LogLevel,\n  LogMetadata,\n  SecuritySeverity,\n} from './types.js';\n\n/**\n * ANSI color codes for terminal output\n */\nconst COLORS = {\n  reset: '\\x1b[0m',\n  log: '\\x1b[32m', // Green\n  error: '\\x1b[31m', // Red\n  warn: '\\x1b[33m', // Yellow\n  debug: '\\x1b[35m', // Magenta\n  verbose: '\\x1b[36m', // Cyan\n  context: '\\x1b[34m', // Blue\n} as const;\n\n/**\n * Framework-free console logger implementation\n * Can be used standalone or wrapped by framework-specific adapters\n */\nexport class ConsoleLogger implements ILogger {\n  private context = 'App';\n  private config: Required<LoggerConfig>;\n\n  constructor(context?: string, config?: LoggerConfig) {\n    if (context) {\n      this.context = context;\n    }\n\n    this.config = {\n      json: config?.json ?? false,\n      timestampFormat: config?.timestampFormat ?? 'ISO',\n      levels: config?.levels ?? ['log', 'error', 'warn', 'debug', 'verbose'],\n      colors: config?.colors ?? true,\n      includeTimestamp: config?.includeTimestamp ?? true,\n    };\n  }\n\n  /**\n   * Set context for all subsequent logs\n   */\n  setContext(context: string): void {\n    this.context = context;\n  }\n\n  /**\n   * Get current context\n   */\n  getContext(): string {\n    return this.context;\n  }\n\n  /**\n   * Log informational message\n   */\n  log(message: string, metadata?: LogMetadata): void {\n    this.writeLog('log', message, metadata);\n  }\n\n  /**\n   * Log error message\n   */\n  error(message: string, trace?: string, metadata?: LogMetadata): void {\n    const meta = trace ? { ...metadata, trace } : metadata;\n    this.writeLog('error', message, meta);\n  }\n\n  /**\n   * Log warning message\n   */\n  warn(message: string, metadata?: LogMetadata): void {\n    this.writeLog('warn', message, metadata);\n  }\n\n  /**\n   * Log debug message\n   */\n  debug(message: string, metadata?: LogMetadata): void {\n    this.writeLog('debug', message, metadata);\n  }\n\n  /**\n   * Log verbose message\n   */\n  verbose(message: string, metadata?: LogMetadata): void {\n    this.writeLog('verbose', message, metadata);\n  }\n\n  /**\n   * Log business event with structured data\n   */\n  logEvent(event: string, data: LogMetadata): void {\n    this.log(`Event: ${event}`, { event, ...data });\n  }\n\n  /**\n   * Log database query execution\n   */\n  logQuery(query: string, duration: number, params?: any[]): void {\n    this.debug('Database query executed', {\n      type: 'database',\n      query,\n      duration,\n      params,\n    });\n  }\n\n  /**\n   * Log HTTP request\n   */\n  logHttpRequest(method: string, url: string, statusCode: number, duration: number): void {\n    const level: LogLevel = statusCode >= 500 ? 'error' : statusCode >= 400 ? 'warn' : 'log';\n    this.writeLog(level, `HTTP ${method} ${url} ${statusCode}`, {\n      type: 'http',\n      method,\n      url,\n      statusCode,\n      duration,\n    });\n  }\n\n  /**\n   * Log authentication event\n   */\n  logAuth(event: AuthEvent, userId?: string, metadata?: LogMetadata): void {\n    this.log(`Auth event: ${event}`, {\n      type: 'auth',\n      event,\n      userId,\n      ...metadata,\n    });\n  }\n\n  /**\n   * Log security event\n   */\n  logSecurity(event: string, severity: SecuritySeverity, metadata?: LogMetadata): void {\n    const level: LogLevel = severity === 'critical' || severity === 'high' ? 'error' : 'warn';\n    this.writeLog(level, `Security event: ${event}`, {\n      type: 'security',\n      event,\n      severity,\n      ...metadata,\n    });\n  }\n\n  /**\n   * Core logging method that handles formatting and output\n   */\n  private writeLog(level: LogLevel, message: string, metadata?: LogMetadata): void {\n    // Check if this log level is enabled\n    if (!this.config.levels.includes(level)) {\n      return;\n    }\n\n    if (this.config.json) {\n      this.writeJsonLog(level, message, metadata);\n    } else {\n      this.writeTextLog(level, message, metadata);\n    }\n  }\n\n  /**\n   * Write log in JSON format\n   */\n  private writeJsonLog(level: LogLevel, message: string, metadata?: LogMetadata): void {\n    const logEntry = {\n      timestamp: this.getTimestamp(),\n      level,\n      context: this.context,\n      message,\n      ...(metadata && { metadata }),\n    };\n\n    const output = JSON.stringify(logEntry);\n    this.writeToConsole(level, output);\n  }\n\n  /**\n   * Write log in text format\n   */\n  private writeTextLog(level: LogLevel, message: string, metadata?: LogMetadata): void {\n    const timestamp = this.config.includeTimestamp ? `[${this.getTimestamp()}] ` : '';\n    const contextStr = `[${this.context}]`;\n    const levelStr = level.toUpperCase().padEnd(7);\n    const metadataStr = metadata ? ` ${JSON.stringify(metadata)}` : '';\n\n    let output: string;\n\n    if (this.config.colors && !this.config.json) {\n      const levelColor = COLORS[level] || COLORS.reset;\n      output = `${timestamp}${levelColor}${levelStr}${COLORS.reset} ${COLORS.context}${contextStr}${COLORS.reset} ${message}${metadataStr}`;\n    } else {\n      output = `${timestamp}${levelStr} ${contextStr} ${message}${metadataStr}`;\n    }\n\n    this.writeToConsole(level, output);\n  }\n\n  /**\n   * Write to appropriate console stream based on level\n   */\n  private writeToConsole(level: LogLevel, message: string): void {\n    switch (level) {\n      case 'error':\n        console.error(message);\n        break;\n      case 'warn':\n        console.warn(message);\n        break;\n      case 'debug':\n      case 'verbose':\n        console.debug(message);\n        break;\n      default:\n        console.log(message);\n    }\n  }\n\n  /**\n   * Get formatted timestamp based on config\n   */\n  private getTimestamp(): string {\n    const now = new Date();\n\n    switch (this.config.timestampFormat) {\n      case 'unix':\n        return now.getTime().toString();\n      case 'locale':\n        return now.toLocaleString();\n      case 'ISO':\n      default:\n        return now.toISOString();\n    }\n  }\n\n  /**\n   * Create a child logger with a new context\n   * Useful for creating scoped loggers while sharing the same configuration\n   */\n  createChild(context: string): ConsoleLogger {\n    return new ConsoleLogger(context, this.config);\n  }\n\n  /**\n   * Update logger configuration\n   */\n  updateConfig(config: Partial<LoggerConfig>): void {\n    this.config = {\n      ...this.config,\n      ...config,\n      levels: config.levels ?? this.config.levels,\n    };\n  }\n}\n"]}